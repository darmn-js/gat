{
  "version": "2.156.0",
  "grid": {
    "layers": {
      "Default layer": {
        "name": "Default layer"
      },
      "Admin": {
        "name": "Admin"
      },
      "PeakPicking": {
        "name": "PeakPicking"
      },
      "IsotopicDistribution": {
        "name": "IsotopicDistribution"
      },
      "TwigMSSelector": {
        "name": "TwigMSSelector"
      },
      "RocSample": {
        "name": "RocSample"
      },
      "Chromatogram": {
        "name": "Chromatogram"
      },
      "Actions": {
        "name": "Actions"
      }
    },
    "xWidth": 10,
    "yHeight": 10
  },
  "modules": [
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "console.log('initialize chromatogram: '+this.variable);\n\nswitch (this.variable) {\n    case 'currentChromatogram':\n        if (API.cache('currentChromatogram') === API.getData('currentChromatogram')) { // did the currentChromatogram really change or just a trigger change\n            return;\n        } else {\n            API.cache('currentChromatogram', API.getData('currentChromatogram'));\n        }\n \n        API.createData('annotations', []);\n        API.createData('peaks',[]);\n        await loadChromatogram(get('currentChromatogram'));\n        if (API.cache('chrom').hasMass()) {\n            API.switchToLayer('Default layer');\n        } else {\n            API.switchToLayer('Chromatogram');\n        }\n        updateChromatography();\n        break;\n    case 'chromOptions':\n        const currentChromatogram=API.cache('currentChromatogram');\n        if (!currentChromatogram) return;\n        let newSerieName=String(API.getData('chromOptions').seriesName);\n        let seriesName=String(currentChromatogram.defaultTrace);\n  \n        if (newSerieName !== seriesName) {\n            currentChromatogram.setChildSync(['defaultTrace'], newSerieName);\n        }\n        updateChromatography();\n        break;\n    case 'massModifications':\n        updateChromatography();\n        break;\n}\n\nasync function loadChromatogram(currentChromatogram) {\n  let content, filename, chrom;\n  if (currentChromatogram.url) {\n    // from a drag / drop\n    API.createData('chromPeaks', []);\n    filename = String(currentChromatogram.filename);\n    content = await fetch(currentChromatogram.url.replace(/%2F/gi, '/'), {\n      credentials: 'include',\n    }).then((r) => fetchStatus(r, 'dataView'));\n  } else if (currentChromatogram.jcamp) {\n    filename = String(currentChromatogram.jcamp.filename);\n    content = await fetch(currentChromatogram.jcamp.dUrl.replace(/%2F/gi, '/'), {\n      credentials: 'include',\n    }).then((r) => fetchStatus(r, 'string'));\n  } else if (currentChromatogram.cdf) {\n    filename = String(currentChromatogram.cdf.filename);\n    content = await fetch(currentChromatogram.cdf.dUrl.replace(/%2F/gi, '/'), {\n      credentials: 'include',\n    }).then((r) => fetchStatus(r, 'dataView'));\n  } else if (currentChromatogram.xml) {\n    filename = String(currentChromatogram.xml.filename);\n    content = await fetch(currentChromatogram.xml.dUrl.replace(/%2F/gi, '/'), {\n      credentials: 'include',\n    }).then((r) => fetchStatus(r, 'string'));\n  } else if (currentChromatogram.content) {\n    API.createData('chromPeaks', []);\n    filename = String(currentChromatogram.filename);\n    content = currentChromatogram.content;\n  } else {\n    console.log('no data to load', currentChromatogram);\n    return;\n  }\n\n  switch (getExtension(filename)) {\n    case 'jdx':\n    case 'dx':\n    case 'jcamp':\n      chrom = Chromatography.fromJcamp(content);\n      break;\n    case 'xml':\n    case 'mzml':\n    case 'mzdata':\n    case 'mzxml':\n      // chrom = Chromatography.fromXML(content, 'mzData');\n      API.createData('massChrom', mzData.parseMZ(content))\n      chrom = Chromatography.fromJSON(mzData.parseMZ(content))\n      break;\n    case 'cdf':\n    case 'netcdf':\n      chrom = Chromatography.fromNetCDF(content);\n      break;\n      r;\n    default:\n      console.error(`unknown file type: ${type}`);\n      return;\n  }\n\n  // is it a GC/MS ?\n  if (chrom.hasMass()) {\n    chrom.calculateLength('ms');\n    chrom.calculateTic();\n    chrom.calculateBpc({ force: true });\n    // mass filter based on the noise (median of the MS peak height)\n  }\n  let chromOptions = API.getData('chromOptions');\n  let seriesName = String(\n    currentChromatogram.defaultTrace || chrom.hasMass() ? 'bpc' : '',\n  );\n\n  let serieNames = chrom.getSeriesNames();\n  API.createData(\n    'serieNames',\n    serieNames.filter((item) => !item.match(/ms/)),\n  );\n  if (!chrom.hasSeries(seriesName)) {\n    chromOptions.setChildSync(['seriesName'], serieNames[0]);\n    currentChromatogram.defaultTrace = serieNames[0];\n  } else {\n    chromOptions.setChildSync(['seriesName'], seriesName);\n  }\n\n  API.cache('chrom', chrom);\n  API.doAction('changePeaks');\n}\n\nfunction updateChromatography() {\n    let chromOptions = get('chromOptions').resurrect();\n    let chrom=API.cache('chrom');\n    if (! chrom) return;\n    let time = chrom.getTimes();\n    let serie = chrom.getSeries(chromOptions.seriesName).data;\n    API.createData('gcms', {x: time, y: serie});\n    \n    if (chrom.hasMass()) {\n         // we may also want to see some more series based on a mass\n        let masses=JSON.parse(JSON.stringify(chromOptions.masses));\n        var chart=[];\n        \n        for (let massLine of masses) {\n            let serie=undefined;\n            console.log(massLine.mass, String(massLine.mf))\n            if (massLine.mass) {\n                serie = chrom.calculateForMass(massLine.mass,{cache:true} );\n            } else if (massLine.mf) {\n                serie = chrom.calculateForMF(massLine.mf.trim().replace(/\\s/g,''), {\n                    cache:true,\n                    ionizations:String(API.getData('massModifications')).replace(/\\s/g,'')\n                } );\n            }\n            \n            if (serie) {\n                let labelParts=serie.name.replace('ms','').split('-');\n                let label='';\n                if (labelParts.length===2) {\n                    label=labelParts[0]+' ±'+labelParts[1]+'Da';\n                } else {\n                    label=labelParts[0]+' ('+labelParts.slice(1,labelParts.length-1).join('-')+') ±'+labelParts[labelParts.length-1]+'Da';\n                }\n                \n                chart.push({\n                    label,\n                    type: \"line\",\n                    styles: {\n                        \"unselected\": {\n                          \"lineColor\": massLine.color,\n                          \"lineWidth\": 2,\n                          \"lineStyle\": 2\n                        },\n                        \"selected\": {\n                          \"lineColor\": massLine.color,\n                          \"lineWidth\": 3,\n                          \"lineStyle\": 2\n                        }\n                    },\n                    x:time,\n                    y:serie.data\n                });\n            }\n        }\n        API.createData('specificMass', {data: chart});\n    } else {\n        API.createData('specificMass', {});\n    }\n}\n\nfunction getExtension(filename) {\n    let base = filename.replace(/.*\\//, '');\n    // we allow the case of there would be some trailing numbers in the name\n    // like in test.jdx.1234\n    let extension = base.replace(/\\.[0-9]+$/, '');\n    return extension.replace(/.*\\./, '').toLowerCase();\n}\n\nfunction arrayBufferToString(buffer){\n    var byteArray = new Uint8Array(buffer);\n    var str = \"\", cc = 0, numBytes = 0;\n    for(var i=0, len = byteArray.length; i<len; ++i){\n        var v = byteArray[i];\n        if(numBytes > 0){\n            //2 bit determining that this is a tailing byte + 6 bit of payload\n            if ((cc&192) === 192){\n                //processing tailing-bytes\n                cc = (cc << 6) | (v & 63);\n            } else {\n                throw new Error(\"this is no tailing-byte\");\n            }\n        } else if(v < 128){\n            //single-byte\n            numBytes = 1;\n            cc = v;\n        } else if(v < 192){\n            //these are tailing-bytes\n            throw new Error(\"invalid byte, this is a tailing-byte\")\n        } else if(v < 224){\n            //3 bits of header + 5bits of payload\n            numBytes = 2;\n            cc = v & 31;\n        } else if(v < 240){\n            //4 bits of header + 4bit of payload\n            numBytes = 3;\n            cc = v & 15;\n        } else {\n            //UTF-8 theoretically supports up to 8 bytes containing up to 42bit of payload\n            //but JS can only handle 16bit.\n            throw new Error(\"invalid encoding, value out of range\")\n        }\n\n        if(--numBytes === 0){\n            str += String.fromCharCode(cc);\n        }\n    }\n    if(numBytes){\n        throw new Error(\"the bytes don't sum up\");\n    }\n    return str;\n}\n\nasync function fetchStatus(content, type) {\n    const stream = content.body.getReader();\n    const contentLength = content.headers.get('Content-Length');\n    let data = new Uint8Array(contentLength);\n    let chunkLength = 0;\n    while (chunkLength < contentLength) {\n        const {done, value} = await stream.read();\n        data.set(value, chunkLength);\n        chunkLength += value.length;\n        let status = chunkLength < contentLength? chunkLength: 0;\n        API.createData('statusProgress', {\n            currentStatus: status,\n            iterationsNumber: contentLength\n        });\n    }\n    let result;\n    const decoder = new TextDecoder(\"utf-8\");\n    switch (type) {\n        case 'string': \n            result = decoder.decode(data);\n            break\n        \n        case 'JSON':\n            result = JSON.parse(decoder.decode(data));\n            break\n        \n        case 'dataView':\n            result = new DataView(data.buffer)\n            break\n    }\n    return result\n}\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "Chromatography",
                "alias": "Chromatography"
              },
              {
                "lib": "src/util/ui",
                "alias": "UI"
              },
              {
                "lib": "mzData",
                "alias": "mzData"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 44,
            "height": 58
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 84,
            "height": 39
          },
          "zIndex": 0,
          "display": true,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 58,
            "height": 18
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 44,
            "height": 58
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 44,
            "height": 58
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 44,
            "height": 58
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 44,
            "height": 58
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 58,
            "height": 18
          },
          "zIndex": 0,
          "display": false,
          "title": "Import file and initialise Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 681,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "currentChromatogram"
        },
        {
          "rel": "inputValue",
          "name": "chromOptions"
        },
        {
          "rel": "inputValue",
          "name": "massModifications"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Import file and initialise Chromatogram",
      "zindex": 3
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [
                      ""
                    ],
                    "zoom": [
                      "x"
                    ],
                    "wheelAction": [
                      "zoomY"
                    ],
                    "wheelbaseline": [
                      0
                    ],
                    "fullOut": [
                      "both"
                    ],
                    "legend": [
                      "bottom"
                    ],
                    "legendOptions": [
                      [
                        "isSerieHideable",
                        "isSerieSelectable"
                      ]
                    ],
                    "mouseTracking": [
                      [
                        "track"
                      ]
                    ],
                    "trackingAxis": [
                      "x"
                    ],
                    "selectScatter": [
                      []
                    ],
                    "independantYZoom": [
                      []
                    ]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [
                      [
                        "display"
                      ]
                    ],
                    "label": [
                      "t [min]"
                    ],
                    "beforeSpacing": [
                      "0"
                    ],
                    "afterSpacing": [
                      0
                    ],
                    "min": [
                      ""
                    ],
                    "max": [
                      ""
                    ],
                    "nbTicksPrimary": [
                      5
                    ],
                    "axismodification": [
                      "valtotime:min.sec"
                    ]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [
                      [
                        "display"
                      ]
                    ],
                    "label": [
                      "Intensity [arbitrary unit]"
                    ],
                    "beforeSpacing": [
                      "0"
                    ],
                    "afterSpacing": [
                      "0.1"
                    ],
                    "min": [
                      ""
                    ],
                    "max": [
                      ""
                    ],
                    "nbTicksPrimary": [
                      5
                    ],
                    "fitToAxisOnFromTo": [
                      []
                    ]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [
                      []
                    ],
                    "stackVerticalSpacing": [
                      0.05
                    ]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "gcms",
                      "axis": "0",
                      "adaptTo": "0",
                      "plotcolor": [
                        1,
                        1,
                        255,
                        1
                      ],
                      "strokewidth": "1",
                      "strokestyle": "1",
                      "plotcontinuous": "continuous",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "none",
                      "optimizeSlots": [],
                      "tracking": [
                        "yes"
                      ]
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": [
                      "{height:\"100%\", fill: \"rgba(255,255,0,0.5)\"}"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 38,
            "top": 0
          },
          "size": {
            "width": 79,
            "height": 43
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 45
          },
          "size": {
            "width": 63,
            "height": 26
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 40,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 38,
            "top": 0
          },
          "size": {
            "width": 79,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 38
          },
          "size": {
            "width": 75,
            "height": 29
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 38,
            "top": 0
          },
          "size": {
            "width": 79,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 38,
            "top": 0
          },
          "size": {
            "width": 79,
            "height": 58
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 66,
            "top": 52
          },
          "size": {
            "width": 61,
            "height": 31
          },
          "zIndex": 0,
          "display": true,
          "title": "Chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 682,
      "vars_in": [
        {
          "rel": "chart",
          "name": "gcms"
        },
        {
          "rel": "chart",
          "name": "specificMass"
        },
        {
          "rel": "annotations",
          "name": "annotationDraw"
        },
        {
          "rel": "annotations",
          "name": "annotations"
        }
      ],
      "actions_in": [
        {
          "rel": "fromToX",
          "name": "chromZoomDo"
        }
      ],
      "vars_out": [
        {
          "event": "onMouseOverShape",
          "rel": "shapeInfos",
          "jpath": [
            "position"
          ],
          "name": "marker"
        },
        {
          "event": "onTrackMouse",
          "rel": "trackData",
          "jpath": [
            "gcms"
          ],
          "name": "gcTracking"
        }
      ],
      "actions_out": [
        {
          "event": "onTrackClick",
          "rel": "mouseEvent",
          "jpath": [],
          "name": "chromTrackClicked"
        },
        {
          "event": "onTrackMouse",
          "rel": "dataAndEvent",
          "jpath": [],
          "name": "chromTrackMoved"
        },
        {
          "event": "onShapeClick",
          "rel": "shapeInfos",
          "jpath": [],
          "name": "chromAnnotationClicked"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Show fullscreen",
                "Print"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Chromatogram: ALT + move to preview MS, or change integration: ALT + click on the left and right of the signal",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "editable",
                  "filterColumns",
                  "enableAddRow",
                  "forgetLastActive"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                [
                  "remove"
                ]
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/9220df906db163190d73bd0852d1ae63221ddbfc/src/modules/types/edition/slick_grid/view.js#L1264-L1300"
              ],
              "customJpaths": [
                "integral.integration,assignment,ms"
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "Assignment",
                "jpath": [
                  "assignment"
                ],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 92,
                "hideColumn": []
              },
              {
                "name": "RT",
                "jpath": [
                  "retentionTime"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 44,
                "hideColumn": []
              },
              {
                "name": "Begin",
                "jpath": [
                  "from"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 51,
                "hideColumn": []
              },
              {
                "name": "End",
                "jpath": [
                  "to"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 52,
                "hideColumn": []
              },
              {
                "name": "Integration",
                "jpath": [
                  "integral",
                  "integration"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0'",
                "editorOptions": "",
                "width": 65,
                "hideColumn": []
              },
              {
                "name": "Relative",
                "jpath": [
                  "relativeIntegration"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0%'",
                "editorOptions": "",
                "width": 63,
                "hideColumn": []
              },
              {
                "name": "Mass",
                "jpath": [
                  "monoisotopic"
                ],
                "editor": "number",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 65,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "zoom",
                "tooltip": "zoom in peak",
                "icon": "fa-search-plus",
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "action": "chromZoomAction",
                "position": "end",
                "clickMode": "background",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 118,
            "top": 44
          },
          "size": {
            "width": 49,
            "height": 23
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 85,
            "top": 0
          },
          "size": {
            "width": 61,
            "height": 24
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 81,
            "top": 0
          },
          "size": {
            "width": 46,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 54,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 118,
            "top": 27
          },
          "size": {
            "width": 44,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 118,
            "top": 27
          },
          "size": {
            "width": 40,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 128,
            "top": 56
          },
          "size": {
            "width": 46,
            "height": 31
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 683,
      "vars_in": [
        {
          "rel": "list",
          "name": "chromPeaks"
        }
      ],
      "actions_in": [
        {
          "rel": "appendRow",
          "name": "chromDoAddRange"
        },
        {
          "rel": "unsetActiveRow",
          "name": "chromeUnselectActiveRow"
        },
        {
          "rel": "scrollToRow",
          "name": "chromScrollToRow"
        },
        {
          "rel": "selectRow",
          "name": "chromSelectLine"
        }
      ],
      "actions_out": [
        {
          "event": "onRowsDelete",
          "rel": "rows",
          "jpath": [],
          "name": "changePeaks"
        },
        {
          "event": "onLastSelectedRow",
          "rel": "row",
          "jpath": [],
          "name": "chromSelectRange"
        },
        {
          "event": "onRowsDelete",
          "rel": "rows",
          "jpath": [],
          "name": "chromPeakDeleted"
        }
      ],
      "vars_out": [
        {
          "event": "onLastSelectedRow",
          "rel": "row",
          "jpath": [
            "ms"
          ],
          "name": "peakMs"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Add new row",
              "icon": " fa-plus-circle",
              "action": "chromNewRange",
              "position": "end",
              "color": [
                100,
                100,
                100,
                1
              ]
            },
            {
              "title": "Clear all peaks",
              "icon": "fa-trash",
              "action": "chromClearPeaks",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            },
            {
              "title": "unselectPeaks",
              "icon": "fa-window-minimize",
              "action": "unselectPeaks",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Peaks from the chromatogram",
      "zindex": 3
    },
    {
      "url": "modules/types/science/spectra/spectra_displayer/",
      "configuration": {
        "sections": {
          "graph": [
            {
              "sections": {},
              "groups": {
                "graph": [
                  {
                    "url": [
                      ""
                    ],
                    "zoom": [
                      "x"
                    ],
                    "wheelAction": [
                      "zoomY"
                    ],
                    "wheelbaseline": [
                      0
                    ],
                    "fullOut": [
                      "once"
                    ],
                    "legend": [
                      "bottom"
                    ],
                    "legendOptions": [
                      [
                        "isSerieHideable",
                        "isSerieSelectable"
                      ]
                    ],
                    "mouseTracking": [
                      [
                        "track"
                      ]
                    ],
                    "trackingAxis": [
                      "x"
                    ],
                    "selectScatter": [
                      []
                    ],
                    "independantYZoom": [
                      []
                    ]
                  }
                ]
              }
            }
          ],
          "axis": [
            {
              "sections": {},
              "groups": {
                "xAxis": [
                  {
                    "checkboxes": [
                      [
                        "display",
                        "sec",
                        "main"
                      ]
                    ],
                    "label": [
                      "m/z [Da]"
                    ],
                    "beforeSpacing": [
                      "0.1"
                    ],
                    "afterSpacing": [
                      "0.1"
                    ],
                    "min": [
                      ""
                    ],
                    "max": [
                      ""
                    ],
                    "nbTicksPrimary": [
                      5
                    ],
                    "axismodification": [
                      "none"
                    ]
                  }
                ],
                "yAxis": [
                  {
                    "checkboxes": [
                      [
                        "display",
                        "sec",
                        "main"
                      ]
                    ],
                    "label": [
                      "Relative intensity [%]"
                    ],
                    "beforeSpacing": [
                      "0"
                    ],
                    "afterSpacing": [
                      "0.2"
                    ],
                    "min": [
                      "0"
                    ],
                    "max": [
                      ""
                    ],
                    "nbTicksPrimary": [
                      5
                    ],
                    "fitToAxisOnFromTo": [
                      []
                    ]
                  }
                ]
              }
            }
          ],
          "series": [
            {
              "sections": {},
              "groups": {
                "series": [
                  {
                    "overflow": [
                      []
                    ],
                    "stackVerticalSpacing": [
                      0
                    ]
                  }
                ]
              }
            }
          ],
          "variables": [
            {
              "sections": {},
              "groups": {
                "variables": [
                  [
                    {
                      "variable": "peakMs",
                      "axis": "0",
                      "adaptTo": "none",
                      "plotcolor": [
                        1,
                        1,
                        255,
                        1
                      ],
                      "strokewidth": "1",
                      "strokestyle": "1",
                      "plotcontinuous": "discrete",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "max100",
                      "optimizeSlots": [],
                      "tracking": [
                        "yes"
                      ]
                    },
                    {
                      "variable": "theoricalMS",
                      "axis": "1",
                      "adaptTo": "none",
                      "plotcolor": [
                        48,
                        162,
                        36,
                        0.59
                      ],
                      "strokewidth": "3",
                      "strokestyle": "1",
                      "plotcontinuous": "discrete",
                      "peakpicking": [],
                      "markers": [],
                      "markerShape": "1",
                      "markerSize": 2,
                      "normalize": "max100",
                      "optimizeSlots": [],
                      "tracking": [
                        "yes"
                      ]
                    }
                  ]
                ]
              }
            }
          ],
          "misc": [
            {
              "sections": {},
              "groups": {
                "misc": [
                  {
                    "highlightOptions": [
                      "{height:\"100%\", fill: \"rgba(255,255,0,0.5)\"}"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "groups": {}
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 38,
            "top": 44
          },
          "size": {
            "width": 79,
            "height": 41
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 45,
            "top": 45
          },
          "size": {
            "width": 80,
            "height": 38
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 41,
            "top": 0
          },
          "size": {
            "width": 39,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 31
          },
          "size": {
            "width": 85,
            "height": 41
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 38,
            "top": 44
          },
          "size": {
            "width": 79,
            "height": 41
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 38,
            "top": 44
          },
          "size": {
            "width": 79,
            "height": 41
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 38,
            "top": 44
          },
          "size": {
            "width": 79,
            "height": 41
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 41,
            "top": 0
          },
          "size": {
            "width": 39,
            "height": 29
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass spectrum",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 684,
      "vars_in": [
        {
          "rel": "chart",
          "name": "peakMs"
        },
        {
          "rel": "chart",
          "name": "theoricalMS"
        },
        {
          "rel": "annotations",
          "name": "msAnnotations"
        }
      ],
      "actions_in": [
        {
          "rel": "fromToX",
          "name": "massZoom"
        },
        {
          "rel": "fullOut",
          "name": "massZoomOut"
        }
      ],
      "vars_out": [
        {
          "event": "onTrackMouse",
          "rel": "trackData",
          "jpath": [
            "peakMs",
            "xClosest"
          ],
          "name": "closestCurrentMass"
        }
      ],
      "actions_out": [
        {
          "event": "onTrackClick",
          "rel": "dataAndEvent",
          "jpath": [],
          "name": "massTrackClicked"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Download mass spectrum",
              "icon": "fa-download",
              "action": "DownloadMass",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Show fullscreen",
                "Print"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Mass spectrum",
      "zindex": 28
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "const {maxY} = ArrayXY;\n\nconsole.log('Peaks changed, recalculate mass and integral');\nconst peaks = API.getData('chromPeaks');\n\nif (! Array.isArray(peaks) || peaks.length===0) {\n    API.doAction('chromUpdateAnnotations');\n    return;\n}\nvar chromOptions = API.getData('chromOptions');\nlet seriesName = String(chromOptions.seriesName);\nvar chrom = API.cache('chrom');\nvar massOptions = get('massOptions');\n\n\n// this will just calculate the integration, baseline is trapezoid or min\nvar integrals = chrom.integrate(peaks, {\n    baseline: 'trapezoid',\n    seriesName, \n});\n// calculate the maximal integral\nvar maxIntegration = integrals.reduce( (value, current) => (current.integration>value) ? current.integration : value, 0);\nvar totalIntegration = integrals.reduce((accumul, val) => accumul + val.integration, 0);\nvar points = {\n    x: chrom.times,\n    y: chrom.series[seriesName].data\n};\n\n\nfor (let i=0; i<peaks.length; i++) {\n    Object.defineProperty(peaks[i], 'integral', {\n        enumerable:false,\n        writable:true\n    });\n    Object.defineProperty(peaks[i], '_highlight', {\n        enumerable:false,\n        writable:true\n    });\n    peaks[i].integral = integrals[i];\n    peaks[i].relativeIntegral = integrals[i].integration / totalIntegration;\n    peaks[i]._highlight = i + 1;\n\n\n    if (! peaks[i].retentionTime) {\n        peaks[i].retentionTime=(peaks[i].from+peaks[i].to)/2;\n    }\n}\n\nif (chrom.hasMass()) {\n    for (let peak of peaks) {\n        let merge = chrom.merge({\n            mergeThreshold: 0.3, seriesName: 'ms', range: peak \n        })\n        Object.defineProperty(peak,'ms', {enumerable:false, writable:true});\n        peak.ms = merge;\n    }\n}\n\npeaks.triggerChange();\n\nAPI.doAction('chromUpdateAnnotations');\n"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "Chromatography",
                "alias": "Chromatography"
              },
              {
                "lib": "ArrayXY",
                "alias": "ArrayXY"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 121,
            "top": 0
          },
          "size": {
            "width": 68,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 23
          },
          "size": {
            "width": 127,
            "height": 63
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 30
          },
          "size": {
            "width": 52,
            "height": 54
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks changed we recalculate mass and integral",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        }
      },
      "id": 685,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "massOptions"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "changePeaks"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Peaks changed we recalculate mass and integral",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/onde/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "hasButton": [
                [
                  "onload"
                ]
              ],
              "button_text": [
                "Export"
              ],
              "debouncing": [
                100
              ],
              "output": [
                "modified"
              ],
              "mode": [
                "schema"
              ],
              "schemaSource": [
                "config"
              ],
              "schema": [
                "{\n    \"type\": \"object\",    \n    \"properties\": {\n        \"minRelativeHeight\": {\n            \"type\":\"number\",\n            \"label\":\"Minimal relative height\",\n            \"description\":\"Minimal height compare to the main peak. Value between 0 and 1\",\n            \"default\": 0.02,\n            \"required\": true\n        },\n        \"minTime\": {\n            \"type\":\"number\",\n            \"label\":\"Minimal retention time\",\n            \"description\":\"Minimum time for integration in minutes\",\n            \"default\": 0,\n            \"required\": true\n        },\n        \"maxTime\": {\n            \"type\":\"number\",\n            \"label\":\"Maximal retention time\",\n            \"description\":\"Maximal time for integration in minutes\",\n            \"default\": 90,\n            \"required\": true\n        }\n    }\n}"
              ],
              "onchangeFilter": [
                null
              ]
            }
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "{}"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 118,
            "top": 21
          },
          "size": {
            "width": 49,
            "height": 18
          },
          "zIndex": 0,
          "display": true,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 22
          },
          "size": {
            "width": 37,
            "height": 16
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 22
          },
          "size": {
            "width": 37,
            "height": 17
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 22
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 40,
            "height": 18
          },
          "zIndex": 0,
          "display": true,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Options for peak picking in chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        }
      },
      "id": 686,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "ppOptions"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Options for peak picking in chromatogram",
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                []
              ],
              "editSearchRegexp": [
                null
              ],
              "editReplace": [
                null
              ],
              "debounce": [
                0
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                "18pt"
              ],
              "align": [
                null
              ],
              "valign": [
                null
              ],
              "rendererOptions": [
                ""
              ],
              "forceType": [
                ""
              ],
              "sprintf": [
                "m/z %.4f"
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 90,
            "top": 47
          },
          "size": {
            "width": 33,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "Current mass value",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 85,
            "top": 45
          },
          "size": {
            "width": 33,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "Current mass value",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 85,
            "top": 45
          },
          "size": {
            "width": 33,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "Current mass value",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 85,
            "top": 45
          },
          "size": {
            "width": 33,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "Current mass value",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 85,
            "top": 45
          },
          "size": {
            "width": 33,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "Current mass value",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        }
      },
      "id": 687,
      "vars_in": [
        {
          "rel": "value",
          "name": "closestCurrentMass"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Current mass value",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "editable"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "if (this.event==='rowsSelected') {\n    if (this.rows.length===1) {\n        var item=this.rows[0].item;\n        if (! item.peak) {\n            item.peak=[];\n        }\n    }\n}\n\nif(this.event === 'renderAction') {\n    let item=this.row.item;\n    switch (this.column.id) {\n        case 'ⓘ':\n            if(item.jcamp) {\n                this.renderOptions.disabled = false;\n            } else {\n                this.renderOptions.disabled = true;\n            }\n            break;\n    } \n} "
              ],
              "customJpaths": [
                "cdf.dUrl,file.dUrl,jcamp.dUrl,text.dUrl,xml.dUrl,analyzer,experiment"
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "Name",
                "jpath": [],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "twig:'  {% if reference %}{{reference}}  {% else %}  {{jcamp.filename|split(\"/\",3)[2]}}  {{text.filename|split(\"/\",3)[2]}}  {{cdf.filename|split(\"/\",3)[2]}}  {{xml.filename|split(\"/\",3)[2]}}  {{pdf.filename|split(\"/\",3)[2]}}  {{file.filename|split(\"/\",3)[2]}}  {% endif %}  '  ",
                "editorOptions": "",
                "width": 118,
                "hideColumn": []
              },
              {
                "name": "Exp.",
                "jpath": [
                  "experiment"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 60,
                "hideColumn": []
              },
              {
                "name": "Analyzer",
                "jpath": [
                  "analyzer"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 52,
                "hideColumn": []
              },
              {
                "name": "jdx",
                "jpath": [
                  "jcamp",
                  "dUrl"
                ],
                "editor": "none",
                "forceType": "downloadlink",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 30,
                "minWidth": "30",
                "maxWidth": "30",
                "hideColumn": []
              },
              {
                "name": "cdf",
                "jpath": [
                  "cdf",
                  "dUrl"
                ],
                "editor": "none",
                "forceType": "downloadlink",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 30,
                "minWidth": "30",
                "maxWidth": "30",
                "hideColumn": []
              },
              {
                "name": "xml",
                "jpath": [
                  "xml",
                  "dUrl"
                ],
                "editor": "none",
                "forceType": "downloadlink",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 30,
                "minWidth": "30",
                "maxWidth": "30",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "🗑",
                "tooltip": "Delete chromatogram and attached file",
                "icon": "fa-trash",
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "action": "unattach",
                "position": "begin",
                "clickMode": "text",
                "isAction": true
              },
              {
                "name": "ⓘ",
                "tooltip": "Spectrum information",
                "icon": "fa-info-circle",
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "action": "SpectrumInfo",
                "position": "end",
                "clickMode": "text",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 37,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 64,
            "top": 45
          },
          "size": {
            "width": 63,
            "height": 26
          },
          "zIndex": 0,
          "display": true,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 143,
            "top": 32
          },
          "size": {
            "width": 46,
            "height": 17
          },
          "zIndex": 0,
          "display": true,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 37,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 37,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 37,
            "height": 12
          },
          "zIndex": 0,
          "display": false,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 7
          },
          "size": {
            "width": 37,
            "height": 35
          },
          "zIndex": 0,
          "display": true,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 46,
            "height": 17
          },
          "zIndex": 0,
          "display": true,
          "title": "List of files",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        }
      },
      "id": 688,
      "vars_in": [
        {
          "rel": "list",
          "name": "chromatogram"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [],
          "name": "currentChromatogram"
        },
        {
          "event": "onRowActive",
          "rel": "row",
          "jpath": [
            "peak"
          ],
          "name": "chromPeaks"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Reload sample from server",
              "icon": "fa-sync",
              "action": "refresh",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "List of files",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "switch (this.variable) {\n    case 'chromPeaks':\n        this.action={\n            name: 'chromUpdateAnnotations'\n        }\n        break;\n}\n\nvar action=this.action.name+'';\nvar value=this.action.value;\nconst chrom=API.cache('chrom');\n\nswitch (action) {\n    case 'chromPeakDeleted':\n        API.createData('selectedPeak', undefined);\n        break;\n    case 'chromAnnotationClicked':\n        // we will simulate a click in the list of integrations\n        API.doAction('chromSelectLine', {row: function(r) {\n            return Number(r.from) === Number(value.info.from)\n                && Number(r.to) === Number(value.info.to);\n        }, column: 1} );\n        break;\n    case 'chromTrackClicked':\n        // we need to add a new range\n        const track = API.getData('gcTracking');\n        if (! value.altKey) break;\n        setRanges(track);\n        break;\n    case 'chromClearPeaks':\n        let chromPeaks=API.getData('chromPeaks');\n        chromPeaks.length=0;\n        chromPeaks.triggerChange();\n        break;\n    case 'chromTrackMoved':\n        if (! this.action.value.data.gcms) return;\n        let event=this.action.value.event;\n        let currentX=this.action.value.data.gcms.xClosest;\n\n        if (event.altKey && API.cache('secondChromRange')) {\n            API.createData('annotationDraw',[{\n                position:[\n                    {x: API.cache('secondChromRange'),  y: \"10px\"},\n                    {x: currentX, y: \"15px\"}\n                ],\n                type: 'rect',\n                fillColor: 'orange',\n                strokeColor: 'orange'\n            }]);\n        } else {\n            API.createData('annotationDraw',undefined);\n        }\n        if (event.altKey && chrom.hasMass()) {\n            let data=this.action.value.data.gcms;\n            let index = chrom.getClosestTime(data.xClosest);\n            if (chrom.hasMass()) {\n                let hoverMass=chrom.getSeries('ms').data[index];\n                API.createData('peakMs', {\n                    x:Array.from(hoverMass[0]), // in case of typed array\n                    y:Array.from(hoverMass[1]) // in case of typed array\n                });\n                API.doAction('massZoom',{from:0,to:Math.max(hoverMass[0][hoverMass[0].length-1]+10, 1000)});\n                API.doAction('massZoomOut','y');\n            }\n        } else {\n         //   API.createData('peakMs', {});\n        }\n        \n        break;\n    case 'chromZoomAction':\n        var peak = this.action.value;\n        var width = Math.abs(Number(value.from) - Number(value.to));\n        API.doAction('chromZoomDo', {\n            from: Number(value.from) - width,\n            to: Number(value.to) + width\n        });\n        API.createData('selectedPeak', this.action.value);\n        break;\n    case 'chromSelectRange':\n        API.cache('secondChromRange', false);\n        window.setTimeout( () => {\n            API.doAction('massZoomOut', 'xy');\n        }, 100)\n        \n        break;\n    case 'chromUpdateAnnotations':\n        updateAnnotations(autoPeakPicking);\n        break;\n    case 'chromNewRange':\n        API.doAction('chromDoAddRange', {});\n        setImmediate(() => API.doAction('chromSelectLine', API.getData('chromPeaks').length-1));\n        break;\n    case 'chromAutoPeakPicking':\n        autoPeakPicking();\n        break;\n    case 'unselectPeaks':\n        API.doAction('chromeUnselectActiveRow');\n        break;\n}\n\nfunction setRanges(track) {\n    var peak = API.getData('selectedPeak');\n    console.log({peak})\n    if (! peak) {\n        setNewPeak(track);\n    } else {\n        setPeak(peak, track);\n    }\n}\n\nfunction setNewPeak(track) {\n    console.log('set new peak');\n    const peaks = API.getData('chromPeaks');\n    const newPeak = API.cache('newPeak');\n    if(!newPeak) {\n        const peak = {}\n        peak.from=track.xClosest;\n        API.cache('newPeak', peak);\n        API.cache('secondChromRange', track.xClosest);\n    } else {\n        newPeak.to=track.xClosest;\n        checkFromTo(newPeak);\n        API.cache('newPeak', false);\n        API.cache('secondChromRange', undefined);\n        peaks.push(newPeak);\n        console.log('peak added', peaks.length, 'peaks');\n        peaks.triggerChange();\n        API.doAction('changePeaks');\n    }\n}\n\nfunction setPeak(peak, track) {\n    if (API.cache('secondChromRange')===undefined) {\n        peak.from=track.xClosest;\n        API.cache('secondChromRange', track.xClosest);\n    } else {\n        peak.to=track.xClosest;\n        checkFromTo(peak);\n        API.cache('secondChromRange', undefined);\n        if(peak.triggerChange) {\n            peak.triggerChange();\n        }\n        API.doAction('changePeaks');\n    }\n}\n\nfunction checkFromTo(peak) {\n    if (peak.from>peak.to) {\n        let tmp=peak.from;\n        peak.from=peak.to;\n        peak.to=tmp;\n    }\n}\n\nfunction updateAnnotations() {\n    var peaks=API.getData('chromPeaks');\n    if (! peaks || peaks.length===0)  {\n        API.createData('annotations', []);\n        return;\n    }\n    var annotations = [];\n    for (var peak of peaks) {\n        if(peak.to) {\n            let annotation={\n                position:[\n                    {x: peak.from,  y: \"15px\"},\n                    {x: peak.to, y: \"20px\"}\n                ],\n                type: 'rect',\n                fillColor: 'red',\n                strokeColor: 'red',\n                _highlight: [peak._highlight],\n                info: peak\n            };\n            if (peak.assignment) {\n               annotation.label = [\n                  {\n                    text: peak.assignment,\n                    size: '18px',\n                    anchor: 'middle',\n                    color: 'red',\n                    position: {\n                      x: (peak.from + peak.to)/2,\n                      y: '10px'\n                    }\n                  }\n                ]; \n            }\n            \n            annotations.push(annotation);\n            \n            annotations.push({\n                position:[\n                    {\n                        x: peak.integral.from.time,\n                        y: peak.integral.from.baseline\n                    },\n                    {\n                        x: peak.integral.to.time,\n                        y: peak.integral.to.baseline\n                    }\n                ],\n                type: 'line',\n                fillColor: 'green',\n                strokeColor: 'green'\n            });\n        }\n    }\n    API.createData('annotations', annotations);\n}\n\nfunction searchDichotomic(val) {\n  const arr = API.getData('gcms').x;\n  const len = arr.length;\n  let minIndex = 0;\n  let maxIndex = len - 1;\n  if(val < arr[0]) return minIndex;\n  if(val > arr[len - 1]) return maxIndex;\n\n  let count = 0;\n  while(maxIndex - minIndex > 1) {\n    const newIndex = Math.round(minIndex + (maxIndex - minIndex) / 2);\n    if(arr[newIndex] < val) {\n      minIndex = newIndex;\n    } else {\n      maxIndex = newIndex;\n    }\n    count++;\n  }\n  if(maxIndex === minIndex) return minIndex;\n  else {\n    return arr[maxIndex] - val < val - arr[minIndex] ? maxIndex : minIndex;\n  }\n}\n\nfunction autoPeakPicking() {\n    var chromOptions = API.getData('chromOptions');\n    var ppOptions = API.getData('ppOptions');\n    var chrom = API.cache('chrom');\n    ppOptions.seriesName = chromOptions.seriesName\n    ppOptions.heightFilter=2;\n    \n    ppOptions.broadenPeaksOptions={\n        factor:4,\n        overlap:false\n    }\n\n    var pp = chrom.getPeaks(ppOptions);\n\n    var maxHeight = pp.reduce( (max, val) => Math.max(max, val.intensity) , Number.NEGATIVE_INFINITY);\n    var minHeight=maxHeight * ppOptions.minRelativeHeight;\n    if (pp.length>0 && minHeight>0) {\n        pp = pp.filter( a => a.intensity>minHeight);\n    }\n    if (ppOptions.minTime) {\n        pp = pp.filter( a => a.retentionTime>=ppOptions.minTime*60);\n    }\n    \n    if (ppOptions.maxTime) {\n        pp = pp.filter( a => a.retentionTime<=ppOptions.maxTime*60);\n    }\n    \n    \n    let peaks=API.getData('chromPeaks');\n    peaks.length=0;\n    pp.map( peak => {\n        peaks.push(peak);\n    });\n    peaks.triggerChange();\n    API.doAction('changePeaks');\n}"
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "vh/util/createAnnotations",
                "alias": "createAnnotations"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 128,
            "top": 0
          },
          "size": {
            "width": 69,
            "height": 74
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 128,
            "top": 0
          },
          "size": {
            "width": 62,
            "height": 55
          },
          "zIndex": 0,
          "display": true,
          "title": "Manage Chrom actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 689,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "chromPeaks"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "chromAnnotationClicked"
        },
        {
          "rel": "execute",
          "name": "chromTrackClicked"
        },
        {
          "rel": "execute",
          "name": "chromZoomAction"
        },
        {
          "rel": "execute",
          "name": "chromSelectRange"
        },
        {
          "rel": "execute",
          "name": "chromChangedRanges"
        },
        {
          "rel": "execute",
          "name": "chromNewRange"
        },
        {
          "rel": "execute",
          "name": "chromAutoPeakPicking"
        },
        {
          "rel": "execute",
          "name": "chromUpdateAnnotations"
        },
        {
          "rel": "execute",
          "name": "unselectPeaks"
        },
        {
          "rel": "execute",
          "name": "massEvent"
        },
        {
          "rel": "execute",
          "name": "chromAnnotationClicked"
        },
        {
          "rel": "execute",
          "name": "chromTrackMoved"
        },
        {
          "rel": "execute",
          "name": "chromClearPeaks"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences",
                "Show fullscreen"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Manage Chrom actions",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/dragdrop/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "label": [
                "netCDF or mzData file"
              ],
              "dragoverlabel": [
                "netCDF or mzData file"
              ],
              "hoverlabel": [
                "netCDF or mzData file"
              ],
              "fileSelectLabel": [
                "Select file"
              ],
              "labelFontSize": [
                20
              ],
              "checkOptions": [
                [
                  "promptAmbiguous"
                ]
              ],
              "inputOptions": [
                [
                  "allowDrop",
                  "allowPaste",
                  "allowFileInput"
                ]
              ]
            }
          ],
          "vars": [
            [
              {
                "filter": "ext",
                "extension": "*",
                "filetype": "base64",
                "type": "",
                "variable": "file"
              }
            ]
          ],
          "string_general": [
            {
              "askFilename": [
                [
                  "yes"
                ]
              ]
            }
          ],
          "string": [
            [
              {
                "filter": "ext",
                "extension": "text/plain",
                "type": "",
                "variable": "str"
              }
            ]
          ],
          "photo": [
            [
              {
                "variable": "photo"
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 32,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 147,
            "top": 48
          },
          "size": {
            "width": 25,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Get monoisotopic mass": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 16
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 16
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "CalculateMass": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 33,
            "height": 14
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 37,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 37,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 37,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 5,
            "top": 0
          },
          "size": {
            "width": 32,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 16
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 690,
      "vars_out": [
        {
          "event": "onRead",
          "rel": "dataarray",
          "jpath": [],
          "name": "droppedChrom"
        }
      ],
      "vars_in": [],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                [
                  "yes"
                ]
              ],
              "editSearchRegexp": [
                ""
              ],
              "editReplace": [
                ""
              ],
              "debounce": [
                100
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                "18pt"
              ],
              "align": [
                "center"
              ],
              "valign": [
                "middle"
              ],
              "rendererOptions": [
                ""
              ],
              "forceType": [
                "mf"
              ],
              "sprintf": [
                null
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 36
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass modifications dot separated",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 85,
            "top": 25
          },
          "size": {
            "width": 61,
            "height": 8
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 86,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 30
          },
          "zIndex": 0,
          "display": true,
          "title": "Mass modifications dot separated",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 118,
            "top": 44
          },
          "size": {
            "width": 44,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass modifications dot separated",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 28
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass modifications dot separated",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 28
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Mass modifications dot separated",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 691,
      "vars_in": [
        {
          "rel": "value",
          "name": "massModifications"
        }
      ],
      "actions_in": [
        {}
      ],
      "title": "Mass modifications dot separated",
      "vars_out": [],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                [
                  "yes"
                ]
              ],
              "debounce": [
                0
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                "18pt"
              ],
              "align": [
                "center"
              ],
              "valign": [
                "middle"
              ],
              "rendererOptions": [
                ""
              ],
              "forceType": [
                "mf"
              ],
              "sprintf": [
                null
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 28
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 118,
            "top": 53
          },
          "size": {
            "width": 44,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 118,
            "top": 52
          },
          "size": {
            "width": 44,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 20
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 43
          },
          "size": {
            "width": 37,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MF",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 692,
      "vars_in": [
        {
          "rel": "value",
          "name": "mf"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "MF",
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                []
              ],
              "editSearchRegexp": [
                null
              ],
              "editReplace": [
                null
              ],
              "debounce": [
                0
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                "18pt"
              ],
              "align": [
                "center"
              ],
              "valign": [
                "middle"
              ],
              "rendererOptions": [
                "numeral:'0.0000'"
              ],
              "forceType": [
                "number"
              ],
              "sprintf": [
                null
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 44
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 118,
            "top": 64
          },
          "size": {
            "width": 44,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 143,
            "top": 60
          },
          "size": {
            "width": 19,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 36
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 51
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 693,
      "vars_in": [
        {
          "rel": "value",
          "name": "em"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Monoisotopic mass",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "var ionizations=String(API.getData('massModifications')).replace(/\\s/g,' ');\nvar mf=API.getData('mf');\nif (!mf) return;\n\nvar sample=API.cache('sample');\n\nvar options={\n    ionizations\n};\n\nAPI.createData('massParts', sample.mf.getMassParts(options));\nAPI.createData('theoricalMS', sample.mf.getIsotopicDistribution(options));\nwindow.setTimeout( () => API.doAction('massZoomOut','xy'), 1);\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 85,
            "height": 30
          },
          "zIndex": 0,
          "display": true,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Calculate theoretical isotopic distribution from MF and modifications",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 694,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "massModifications"
        },
        {
          "rel": "inputValue",
          "name": "mf"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Calculate theoretical isotopic distribution from MF and modifications",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "MF",
                "jpath": [
                  "mf"
                ],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 72,
                "hideColumn": []
              },
              {
                "name": "Ionization",
                "jpath": [
                  "ionization",
                  "mf"
                ],
                "editor": "none",
                "forceType": "mf",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 59,
                "hideColumn": []
              },
              {
                "name": "Charge",
                "jpath": [
                  "ms",
                  "charge"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 49,
                "hideColumn": []
              },
              {
                "name": "Th. mass",
                "jpath": [
                  "ms",
                  "em"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0000'",
                "editorOptions": "",
                "width": 60,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 118,
            "top": 68
          },
          "size": {
            "width": 49,
            "height": 17
          },
          "zIndex": 0,
          "display": true,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 118,
            "top": 60
          },
          "size": {
            "width": 24,
            "height": 25
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 118,
            "top": 59
          },
          "size": {
            "width": 44,
            "height": 26
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 118,
            "top": 59
          },
          "size": {
            "width": 44,
            "height": 26
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "List of theoretical masses based on MF and ionizations",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 695,
      "vars_in": [
        {
          "rel": "list",
          "name": "massParts"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "List of theoretical masses based on MF and ionizations",
      "zindex": 3
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                []
              ],
              "editSearchRegexp": [
                null
              ],
              "editReplace": [
                null
              ],
              "debounce": [
                0
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                "18pt"
              ],
              "align": [
                "center"
              ],
              "valign": [
                "middle"
              ],
              "rendererOptions": [
                "numeral:'0.00'"
              ],
              "forceType": [
                "number"
              ],
              "sprintf": [
                null
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 19,
            "top": 44
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "Molecular weight",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Molecular weight",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 118,
            "top": 64
          },
          "size": {
            "width": 44,
            "height": 10
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 143,
            "top": 68
          },
          "size": {
            "width": 19,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Molecular weight",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 19,
            "top": 36
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": false,
          "title": "Molecular weight",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 19,
            "top": 51
          },
          "size": {
            "width": 18,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "Molecular weight",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Monoisotopic mass",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 696,
      "vars_in": [
        {
          "rel": "value",
          "name": "mw"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Molecular weight",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/button_action/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "toggle": [
                "click"
              ],
              "label": [
                "Auto peak picking"
              ],
              "onLabel": [
                "Toggle action off"
              ],
              "offLabel": [
                "Toggle action on"
              ],
              "title": [
                ""
              ],
              "css": [
                "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
              ],
              "cssOn": [
                "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
              ],
              "cssOff": [
                "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
              ],
              "startState": [
                "off"
              ],
              "text": [
                null
              ],
              "askConfirm": [
                []
              ],
              "confirmText": [
                "Are you sure?"
              ],
              "okLabel": [
                "Ok"
              ],
              "cancelLabel": [
                "Cancel"
              ],
              "contentType": [
                "content"
              ],
              "content": [
                ""
              ],
              "maskOpacity": [
                0.6
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 145,
            "top": 40
          },
          "size": {
            "width": 13,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 159,
            "top": 20
          },
          "size": {
            "width": 24,
            "height": 7
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 23,
            "top": 37
          },
          "size": {
            "width": 13,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 5,
            "top": 37
          },
          "size": {
            "width": 13,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 136,
            "top": 20
          },
          "size": {
            "width": 13,
            "height": 6
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 136,
            "top": 20
          },
          "size": {
            "width": 13,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 103,
            "top": 46
          },
          "size": {
            "width": 24,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        }
      },
      "id": 697,
      "vars_in": [],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "event": "onClick",
          "rel": "actionText",
          "jpath": [],
          "name": "chromAutoPeakPicking"
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [
                []
              ],
              "template": [
                ""
              ],
              "modifyInForm": [
                [
                  "yes"
                ]
              ],
              "debouncing": [
                1000
              ],
              "formOptions": [
                [
                  "keepFormValueIfDataUndefined"
                ]
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 52
          },
          "size": {
            "width": 37,
            "height": 33
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 141,
            "top": 0
          },
          "size": {
            "width": 34,
            "height": 18
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 43,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 44
          },
          "size": {
            "width": 37,
            "height": 41
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 36
          },
          "size": {
            "width": 37,
            "height": 30
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 53,
            "top": 30
          },
          "size": {
            "width": 27,
            "height": 18
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 698,
      "vars_in": [
        {
          "rel": "form",
          "name": "chromOptions"
        },
        {
          "rel": "tpl",
          "name": "msOptionsTwigTemplate"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "event": "onFormChanged",
          "rel": "form",
          "jpath": [],
          "name": "changePeaks"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": [
                "html"
              ],
              "outputType": [
                null
              ],
              "btnvalue": [
                "Send script"
              ],
              "iseditable": [
                [
                  "editable"
                ]
              ],
              "hasButton": [
                [
                  "button"
                ]
              ],
              "variable": [
                []
              ],
              "storeOnChange": [
                [
                  "store"
                ]
              ],
              "debouncing": [
                2000
              ],
              "script": [
                "<style>\n    #extendedForm h1 {\n        font-size: 14px;\n        margin-top: 10px;\n        margin-bottom: 20px;\n        space\n    }\n    #extendedForm h2 {\n        font-size: 14px;\n        margin-top: 0px;\n        margin-bottom: 0px;\n        space\n    }\n</style>\n\n<div id='extendedForm'>\n    <h2>\n        List of specific mass traces to superimpose:\n    </h2>\n    <table>\n        <tr>\n            <th></th><th></th>\n            <th>Mass</th>\n            <th>MF</th>\n            <th>Color</th>\n        </tr>\n        <tr data-repeat='masses'>\n            <td><input type='number' style=\"width: 60px;\" data-field='mass'></td>\n            <td><input type='input' data-field='mf'></td>\n            <td><input type='color' data-field='color'></td>\n        </tr>\n    </table>\n    For molecular formula the system will make the sum of all the possible ionizations.\n    \n</div>\n\n<script>\n    require(['vh/util/twigAdvancedForm'], function(AF) {\n        AF('extendedForm', {debug:true});\n    });\n</script>"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [
                [
                  "yes"
                ]
              ],
              "tabSize": [
                4
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 76,
            "top": 0
          },
          "size": {
            "width": 70,
            "height": 36
          },
          "zIndex": 0,
          "display": true,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 699,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "msOptionsTwigTemplate"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "MS Selector tiwg template",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": [
                "text"
              ],
              "expanded": [
                []
              ],
              "storeObject": [
                []
              ],
              "displayValue": [
                []
              ],
              "searchBox": [
                [
                  "search"
                ]
              ],
              "sendButton": [
                []
              ],
              "output": [
                "new"
              ],
              "storedObject": [
                "{}"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 44,
            "top": 0
          },
          "size": {
            "width": 31,
            "height": 30
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 700,
      "vars_in": [
        {
          "rel": "value",
          "name": "chromOptions"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": [
                "view"
              ],
              "expanded": [
                []
              ],
              "storeObject": [
                []
              ],
              "displayValue": [
                []
              ],
              "searchBox": [
                [
                  "search"
                ]
              ],
              "sendButton": [
                []
              ],
              "output": [
                "new"
              ],
              "storedObject": [
                "{}"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 88,
            "top": 35
          },
          "size": {
            "width": 50,
            "height": 32
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 701,
      "vars_in": [
        {
          "rel": "value",
          "name": "massParts"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "const dataSynced = API.getData('dataSynced');\n\nconsole.log('synced', dataSynced.resurrect(), dataSynced)\n\nif (dataSynced && !dataSynced.resurrect()) {\n    this.getButton('save').setColor('green');\n    this.enableButton('save');\n} else {\n    this.getButton('save').setColor('grey');\n    this.disableButton('save');\n}\n\nswitch (this.button) {\n    case 'save':\n        API.doAction('save');\n        break;\n}\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "save",
                "label": "Save data",
                "hide": [],
                "disable": [
                  "disable"
                ]
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 125,
            "top": 38
          },
          "size": {
            "width": 24,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "Chromatogram": {
          "position": {
            "left": 121,
            "top": 18
          },
          "size": {
            "width": 24,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 702,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "dataSynced"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                [
                  "yes"
                ]
              ],
              "asyncAwait": [
                []
              ],
              "script": [
                "var action=getAction() || {name:''};\nvar sample=API.cache('sample');\nconsole.log(\"Receive action: \",action);\nif (!sample) return;\n\nif(this.action) {\n    switch (action.name) {\n    default:\n        sample.handleAction(action);\n    }    \n} else if (this.variable) {\n    sample.handleDrop(this.variable, false, {\n        autoJcamp: true\n    });\n}\n\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 142,
            "top": 16
          },
          "size": {
            "width": 50,
            "height": 33
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with all the actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Report": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with all the actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Report"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 19
          },
          "size": {
            "width": 72,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Roc sample",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        },
        "TwigDebug": {
          "position": {
            "left": 0,
            "top": 76
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "RocSample": {
          "position": {
            "left": 17,
            "top": 0
          },
          "size": {
            "width": 62,
            "height": 52
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "Chromatogram": {
          "position": {
            "left": 142,
            "top": 16
          },
          "size": {
            "width": 50,
            "height": 33
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with all the actions",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 703,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "droppedChrom"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "refresh"
        },
        {
          "rel": "execute",
          "name": "save"
        },
        {
          "rel": "execute",
          "name": "deleteAttachment"
        },
        {
          "rel": "execute",
          "name": "updateAttachments"
        },
        {
          "rel": "execute",
          "name": "unattach"
        }
      ],
      "title": "",
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "zindex": 3,
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ]
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [
                []
              ],
              "template": [
                ""
              ],
              "modifyInForm": [
                [
                  "yes"
                ]
              ],
              "debouncing": [
                0
              ],
              "formOptions": [
                [
                  "keepFormValueIfDataUndefined"
                ]
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 87,
            "top": 3
          },
          "size": {
            "width": 37,
            "height": 3
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 26,
            "top": 40
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 147,
            "top": 52
          },
          "size": {
            "width": 27,
            "height": 8
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 23
          },
          "size": {
            "width": 43,
            "height": 11
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 44
          },
          "size": {
            "width": 37,
            "height": 41
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 89,
            "top": 4
          },
          "size": {
            "width": 32,
            "height": 4
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 53,
            "top": 49
          },
          "size": {
            "width": 27,
            "height": 8
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 704,
      "vars_in": [
        {
          "rel": "form",
          "name": "chromOptions"
        },
        {
          "rel": "tpl",
          "name": "msTraceTwigTemplate"
        },
        {
          "rel": "value",
          "name": "serieNames"
        },
        {
          "rel": "value",
          "name": "chromOptions"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "event": "onFormChanged",
          "rel": "form",
          "jpath": [],
          "name": "changePeaks"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 27
    },
    {
      "url": "modules/types/client_interaction/code_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "mode": [
                "html"
              ],
              "outputType": [
                null
              ],
              "btnvalue": [
                "Send script"
              ],
              "iseditable": [
                [
                  "editable"
                ]
              ],
              "hasButton": [
                [
                  "button"
                ]
              ],
              "variable": [
                []
              ],
              "storeOnChange": [
                [
                  "store"
                ]
              ],
              "debouncing": [
                2000
              ],
              "script": [
                "<style>\n    #extendedTrace h1 {\n        font-size: 14px;\n        margin-top: 0px;\n        margin-bottom: 0px;\n        space\n    }\n    #extendedTrace h2 {\n        font-size: 14px;\n        margin-top: 0px;\n        margin-bottom: 0px;\n        space\n    }\n</style>\n\n<div id='extendedTrace'>\n    <h1>\n        Select GC trace channel: \n        <select name='seriesName'>\n            {%for seriesName in serieNames %}\n                <option value=\"{{seriesName}}\" {%if seriesName==chromOptions.seriesName %}selected{%endif%}>{{seriesName}}</option>\n            {%endfor%}\n        </select>\n    </h1>\n</div>\n"
              ]
            }
          ],
          "ace": [
            {
              "useSoftTabs": [
                [
                  "yes"
                ]
              ],
              "tabSize": [
                4
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 76,
            "top": 37
          },
          "size": {
            "width": 70,
            "height": 36
          },
          "zIndex": 0,
          "display": true,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "MS Selector TRACE tiwg template",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        }
      },
      "id": 705,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "event": "onEditorChange",
          "rel": "data",
          "jpath": [],
          "name": "msTraceTwigTemplate"
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "MS Selector TRACE tiwg template",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "if (! this.action) {\n    this.action={\n        name: this.button,\n        value: ''\n    }\n}\n\n\nconsole.log(this.action.value);\n\nswitch (this.action.name) {\n    case 'SpectrumInfo' :\n        const jcampInfo = await API.require('vh/eln/util/jcampInfo');\n        jcampInfo(this.action.value);\n        break;\n    case 'DownloadMass' :\n        const peakMs = API.getData('peakMs');\n        console.log(peakMs);\n        let xs=peakMs.x;\n        let ys=peakMs.y;\n        let array=[];\n        for (let i=0; i<xs.length; i++) {\n            array.push(xs[i]+'\\t'+ys[i]);\n        }\n        require([\"file-saver\"],function(fileSaver) {\n            var spectrum=array.join('\\n');\n            var blob = new Blob([spectrum+\"\"], {type: \"text/plain;charset=utf-8\"});\n            fileSaver( blob, \"mass.txt\");    \n        })\n        \n\n        break;\n}\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "SpectrumInfo",
                "label": "SpectrumInfo",
                "hide": [],
                "disable": []
              },
              {
                "name": "DownloadMass",
                "label": "DownloadMass",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Chromatogram"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 18
          },
          "size": {
            "width": 65,
            "height": 51
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Actions"
        }
      },
      "id": 706,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "SpectrumInfo"
        },
        {
          "rel": "execute",
          "name": "DownloadMass"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "editable",
                  "filterColumns",
                  "enableAddRow",
                  "forgetLastActive"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                [
                  "remove"
                ]
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/9220df906db163190d73bd0852d1ae63221ddbfc/src/modules/types/edition/slick_grid/view.js#L1264-L1300"
              ],
              "customJpaths": [
                "integral.integration,assignment"
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "Assignment",
                "jpath": [
                  "assignment"
                ],
                "editor": "string",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 92,
                "hideColumn": []
              },
              {
                "name": "RT",
                "jpath": [
                  "retentionTime"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 44,
                "hideColumn": []
              },
              {
                "name": "Begin",
                "jpath": [
                  "from"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 51,
                "hideColumn": []
              },
              {
                "name": "End",
                "jpath": [
                  "to"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.00'",
                "editorOptions": "",
                "width": 52,
                "hideColumn": []
              },
              {
                "name": "Integral",
                "jpath": [
                  "integral",
                  "integration"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0'",
                "editorOptions": "",
                "width": 65,
                "hideColumn": []
              },
              {
                "name": "Relative",
                "jpath": [
                  "relativeIntegral"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "numeral:'0.0%'",
                "editorOptions": "",
                "width": 63,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "name": "zoom",
                "tooltip": "zoom in peak",
                "icon": "fa-search-plus",
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "action": "chromZoomAction",
                "position": "end",
                "clickMode": "background",
                "isAction": true
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 120,
            "top": 29
          },
          "size": {
            "width": 49,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 85,
            "top": 0
          },
          "size": {
            "width": 61,
            "height": 24
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "PeakPicking": {
          "position": {
            "left": 81,
            "top": 0
          },
          "size": {
            "width": 46,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 54,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "TwigMSSelector": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 44,
            "height": 43
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "RocSample": {
          "position": {
            "left": 118,
            "top": 27
          },
          "size": {
            "width": 44,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Chromatogram": {
          "position": {
            "left": 118,
            "top": 27
          },
          "size": {
            "width": 40,
            "height": 31
          },
          "zIndex": 0,
          "display": true,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Actions": {
          "position": {
            "left": 81,
            "top": 0
          },
          "size": {
            "width": 46,
            "height": 31
          },
          "zIndex": 0,
          "display": false,
          "title": "Peaks from the chromatogram",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 707,
      "vars_in": [
        {
          "rel": "list",
          "name": "chromPeaks"
        }
      ],
      "actions_in": [
        {
          "rel": "appendRow",
          "name": "chromDoAddRange"
        },
        {
          "rel": "unsetActiveRow",
          "name": "chromeUnselectActiveRow"
        },
        {
          "rel": "scrollToRow",
          "name": "chromScrollToRow"
        },
        {
          "rel": "selectRow",
          "name": "chromSelectLine"
        }
      ],
      "actions_out": [
        {
          "event": "onRowsDelete",
          "rel": "rows",
          "jpath": [],
          "name": "changePeaks"
        },
        {
          "event": "onLastSelectedRow",
          "rel": "row",
          "jpath": [],
          "name": "chromSelectRange"
        }
      ],
      "vars_out": [
        {
          "event": "onLastSelectedRow",
          "rel": "row",
          "jpath": [],
          "name": "selectedPeak"
        },
        {
          "event": "onLastSelectedRow",
          "rel": "row",
          "jpath": [
            "isotopicDistributions"
          ],
          "name": "isotopicDistributions"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "Add new row",
              "icon": " fa-plus-circle",
              "action": "chromNewRange",
              "position": "end",
              "color": [
                100,
                100,
                100,
                1
              ]
            },
            {
              "title": "Clear all peaks",
              "icon": "fa-trash",
              "action": "chromClearPeaks",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            },
            {
              "title": "unselectPeaks",
              "icon": "fa-window-minimize",
              "action": "unselectPeaks",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Peaks from the chromatogram",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "const colors=Color.getDistinctColorsAsString(8).map(color => Color.rgb2hex(color));\n\nswitch (this.variable) {\n    case 'general':\n        const general=API.getData('general');\n        if (general && general.mf) {\n            const chromOptions=API.getData('chromOptions');\n            chromOptions.masses.length=0;\n            chromOptions.masses.push({\n                mf: general.mf,\n                color: colors[(chromOptions.masses.length)%8]\n            })\n            chromOptions.triggerChange();\n        }\n        return;\n    default:\n}\n\nlet actionName=this.action.name;\nconsole.log('Action: '+actionName);\n\nswitch(actionName) {\n    case 'massTrackClicked':\n        if (! this.action.value.event.altKey) return;\n        addMass(Number(this.action.value.data.peakMs.xClosest));\n        break;\n}\n\nfunction addMass(target) {\n    target=Math.round(target);\n    const chromOptions=API.getData('chromOptions');\n    const existing=chromOptions.masses.filter( mass => Number(mass.mass)===target);\n    if (existing.length) return;\n    chromOptions.masses.push({\n        mass: target,\n        color: colors[(chromOptions.masses.length)%8]\n    })\n    console.log({chromOptions});\n    API.getData('msOptionsTwigTemplate').triggerChange();\n} "
              ]
            }
          ],
          "libs": [
            [
              {
                "lib": "src/util/color",
                "alias": "Color"
              }
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 70,
            "top": 31
          },
          "size": {
            "width": 60,
            "height": 34
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Chromatogram"
        },
        "Actions": {
          "position": {
            "left": 67,
            "top": 0
          },
          "size": {
            "width": 60,
            "height": 45
          },
          "zIndex": 0,
          "display": true,
          "title": "Deal with actions related to mass peak picking",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Actions"
        }
      },
      "id": 708,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "general"
        }
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "massTrackClicked"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Deal with actions related to mass peak picking",
      "zindex": 3
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [
                []
              ],
              "template": [
                ""
              ],
              "modifyInForm": [
                []
              ],
              "debouncing": [
                0
              ],
              "formOptions": [
                [
                  "keepFormValueIfDataUndefined"
                ]
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 118,
            "top": 0
          },
          "size": {
            "width": 49,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            242,
            204,
            0.35
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Chromatogram"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Actions"
        }
      },
      "id": 709,
      "vars_in": [
        {
          "rel": "tpl",
          "name": "tocTemplate"
        },
        {
          "rel": "value",
          "name": "tocSample"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              []
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "let sample = API.cache('sample');\nconsole.log(sample)"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Chromatogram"
        },
        "Actions": {
          "position": {
            "left": 42,
            "top": 90
          },
          "size": {
            "width": 52,
            "height": 35
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Actions"
        }
      },
      "id": 710,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 3
    },
    {
      "url": "modules/types/display/template-twig/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "selectable": [
                []
              ],
              "template": [
                "<style> \n    #calculationStatus2 {\n      height: 40px;\n      width: 100%;\n      background-color: #ddd; \n      border-radius: 5px;\n      top: 180px;\n      margin-bottom: 50px;\n      box-shadow:2px 0px 12px 3px rgba(0, 0, 0, 0.3) inset;\n      padding: 8px;\n    } \n    @keyframes move{\n        100%{\n            background-position: 40px 0px;\n        }\n    }  \n    #statusBar2 { \n      width: 10%; \n      height: 25px;\n      background: linear-gradient(45deg,rgba(255, 255, 255, 0.5) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0.5) 75%, transparent 75%, transparent);\n      background-color: #196C7F;\n      background-size: 40px;\n      border-radius: 5px;\n      padding: 8px;\n      /*animation: move 1.0s linear infinite;*/\n    }\n    \n    #statusLabel2 {\n      text-align: center;\n      color: white;\n    }\n</style>\n\n<body>\n    {% if (statusProgress.currentStatus)%}\n    <h2 id='label' align='center'></h2> \n    <div id=\"calculationStatus2\">\n        <div id=\"statusBar2\"><p id='statusLabel2'>{{rendertype(statusProgress.currentStatus, {numeral:'0.00'})}} %</p></div>\n    </div>\n    {% endif %}\n\n    <script>\n        $('#calculationStatus2').width(390);\n        const currentStatus = {{statusProgress.currentStatus}};\n        const iterationsNumber = {{statusProgress.iterationsNumber}};\n        let label = 'Block '+String(currentStatus + 1)+' of '+String(iterationsNumber);\n        $('#label').text(label);\n        let progress = (currentStatus + 1) / iterationsNumber*100;\n        progress = Math.round(progress * 100) / 100;\n        $('#statusBar2').width(progress * 3.6);\n        $('#statusLabel2').text(String(progress) + '%');\n        if (progress === 100) {\n            $('#statusLabel2').text('Finished');\n        }\n    </script> \n</body>\n"
              ],
              "modifyInForm": [
                []
              ],
              "debouncing": [
                0
              ],
              "formOptions": [
                [
                  "keepFormValueIfDataUndefined"
                ]
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 50,
            "top": 4
          },
          "size": {
            "width": 41,
            "height": 10
          },
          "zIndex": 0,
          "display": true,
          "title": "Status progress",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "Admin": {
          "position": {
            "left": 0,
            "top": 72
          },
          "size": {
            "width": 63,
            "height": 14
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Admin"
        },
        "PeakPicking": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "PeakPicking"
        },
        "IsotopicDistribution": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "IsotopicDistribution"
        },
        "TwigMSSelector": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "TwigMSSelector"
        },
        "RocSample": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "RocSample"
        },
        "Chromatogram": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Chromatogram"
        },
        "Actions": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Actions"
        }
      },
      "id": 711,
      "vars_in": [
        {
          "rel": "value",
          "name": "statusProgress"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Status progress",
      "zindex": 31
    }
  ],
  "variables": [
    {
      "jpath": [
        ""
      ]
    }
  ],
  "aliases": [
    {
      "path": "https://www.lactame.com/lib/chromatography/4.1.1/chromatography.min",
      "alias": "Chromatography"
    },
    {
      "path": "http://localhost:9898/cheminfo/chromatography/dist/chromatography",
      "alias": "Chromatographyxx"
    },
    {
      "path": "https://www.lactame.com/github/cheminfo-js/visualizer-helper/604c72282ff4ee3c5dae1487da780a936d96e3eb/",
      "alias": "vh"
    },
    {
      "path": "https://www.lactame.com/lib/array-xy/0.1.1/ml-array-xy",
      "alias": "ArrayXY"
    },
    {
      "path": "http://localhost:9898/cheminfo-js/visualizer-helper/",
      "alias": "vhxx"
    },
    {
      "path": "https://dl.dropboxusercontent.com/s/s1q9bncc2x781vc/gclcMS.js?dl=0",
      "alias": "mzData"
    }
  ],
  "configuration": {
    "title": "Low res GC/MS and LC/MS analysis"
  },
  "actionscripts": [
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": [
              "chromClearPeaks"
            ],
            "script": [
              "require(['src/util/ui'], function(UI) {\n    var peaks = API.getData('peaks');\n    if(peaks && peaks.length !== 0) {\n        UI.confirm('Are you sure you want to remove all peaks?').then((ans) => {\n            if (ans) {\n                API.createData('peaks', []);\n                API.createData('annotations', []);\n                API.createData('ppA', []);\n                API.createData('peakMs', []);\n                API.createData('theoricalMS', []);\n                API.createData('chemcalc', []);\n            }\n        });\n    }\n});\n\n"
            ]
          }
        ]
      }
    },
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": [
              "automaticPeaks"
            ],
            "script": [
              "require(['src/util/ui'], function(UI) {\n    var peaks = API.getData('peaks');\n    if(peaks && peaks.length !== 0) {\n        UI.confirm('The automatic peak peaking will replace the current peak selection, do you want to continue?').then((ans) => {\n            if (ans) {\n                API.doAction('peakPicking');\n            }\n        });\n    } else {\n        API.doAction('peakPicking');\n    }\n});\n"
            ]
          }
        ]
      }
    }
  ],
  "init_script": [
    {
      "sections": {},
      "groups": {
        "general": [
          {
            "script": [
              "\nconst [\n    track,\n    loadTwig,\n] = await API.require([\n    'vh/util/track',\n    'vh/eln/templates/loadTwig',\n]);\n\nvar result = await track('optionsGCMSintegrationLR2', {\n        peaks:[],\n        chromOptions: {\n            seriesName: 'bpc',\n            masses: [{\n                color:'#00FF00'\n            },{\n                color:'#00FFFF'\n            }]\n        },\n        massOptions: {\n            spectraPosition: 'mean',\n            factor: 2,\n            algorithm: 'centroid',\n            delta: 0.005,\n            groupWidth: 1.5,\n            basePeakChrom: 0\n        },\n        ppOptions: {\n            heightFilter: 10,\n            integral: 0,\n            height: 0\n        },\n        mfOptions: {\n            modifications: \"H+\",\n            applyModification: false,\n            range: \"C0-30 H0-60 N0-5O O0-10\",\n            precision: 20,\n            unsaturation: {\n                useUnsaturation: true,\n                minUnsaturation: 0,\n                maxUnsaturation: 999,\n                integerUnsaturation: false\n            },\n            simulation: {\n                gaussian: false,\n                resolution: 30000\n            }\n        }\n    },\n    {varName: 'options'}\n);\n\nvar options = API.getVar('options');\nAPI.setVariable('peaks', options, ['peaks']);\nAPI.setVariable('chromOptions', options, ['chromOptions']);\nAPI.setVariable('massOptions', options, ['massOptions']);\nAPI.setVariable('ppOptions', options, ['ppOptions']);\nAPI.setVariable('mfOptions', options, ['mfOptions']);\nAPI.setVariable('massModifications', options, ['mfOptions','modifications']);\n\nvar Sample = await API.require('vh/eln/Sample');\nif (typeof IframeBridge !== 'undefined') {\n    IframeBridge.onMessage(onMessage);\n    IframeBridge.ready();\n    function onMessage(data) {\n        if (data.type === 'tab.data') {\n            var sample = new Sample(data.message.couchDB, data.message.uuid, {\n                track:true,\n                onSync(synced) {\n                    console.log('received synced event', synced);\n                    API.createData('dataSynced', synced);\n                }\n            });\n            console.log('Got sample');\n            API.cache('sample',sample);\n            \n             // to load TOC information about the sample\n            sample.waitSampleLoaded().then( (test) => {\n                API.createData('tocSample',sample.getToc());\n                loadTwig(['org.cheminfo.sampleToc.chemical.default'], {variableName:'tocTemplate'});\n            });\n        }\n    }\n} else {\n    var {extSample} = await API.require('vh/eln/SampleFactory');\n    var sample = await extSample();\n    API.cache('sample',sample);\n}\n\n"
            ]
          }
        ]
      }
    }
  ],
  "custom_filters": [
    {
      "sections": {
        "modules": [
          {
            "sections": {},
            "groups": {
              "modules": [
                [
                  {}
                ]
              ]
            }
          }
        ],
        "filtersLib": [
          {
            "sections": {},
            "groups": {
              "filters": [
                [
                  {}
                ]
              ]
            }
          }
        ],
        "filters": [
          {
            "sections": {},
            "groups": {
              "filter": [
                {
                  "name": [
                    null
                  ],
                  "script": [
                    null
                  ]
                }
              ],
              "libs": [
                [
                  {}
                ]
              ]
            }
          }
        ]
      },
      "groups": {}
    }
  ],
  "actionfiles": [
    {
      "sections": {},
      "groups": {
        "action": [
          [
            {}
          ]
        ]
      }
    }
  ]
}